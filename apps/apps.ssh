#!/bin/bash

#####################################################################
#                                                                   # 
#     Description : déployement de l'environnement applicatif       #
#                                                                   #
#                                                                   #
#####################################################################

# Si option --create
        if [ "$1" == "--create" ];then
            echo ""
            echo " Vous avez choisi --create"
            echo ""
<<<<<<< HEAD
                docker run -tid --name $USER alpine:latest
            echo ""
<<<<<<< HEAD
=======
                #Initaiulisation du nombre conteneur
                nombre_ct=1
                [ "$2" != "" ] && nombre_ct=$2
                docker run -tid --name $USER alpine:lates
                echo " Vous avez créé $nombre_ct"
=======
            echo "Debut de la création du/des conteneur.s"
                
                # Dynamiser la création des conteneur avec les boucle FOR
                # Définition du nombre machine
                        nombre_ct=1
                        [ "$2" != "" ] && nombre_ct=$2

                # Création des conteneurs
                echo " Debut de la création du conteneur"
                        for i in $(seq 1 $nombre_ct);do
	                        docker run -tid --name $USER-$i alpine:latest
                                echo " Centenur $USER-$i Créé avec succès"
                        done
>>>>>>> Developement
                echo ""
>>>>>>> Developement

# Si option --drop
        elif [ "$1" == "--drop" ];then
            echo ""
            echo " Vous avez choisi --drop"
            echo ""
            echo "Sppression du/des conteneur.s"
                docker rm -f $(docker ps -a | grep $USER | awk '{print $1}')
                echo " Suppression des conteneurs avec succès"

# Si option --infos
        elif [ "$1" == "--infos" ];then
            echo ""
            echo " Vous avez choisi --infos"
            echo ""

# Si option --start
        elif [ "$1" == "--start" ];then
            echo ""
            echo " Vous avez choisi --start"
            echo ""

# Si option --ansible
        elif [ "$1" == "--ansible" ];then
            echo ""
            echo " Vous avez choisi --ansible"
            echo ""

# Si aucune option affichage de l'aide
        else
            echo ""
            echo ""

 echo 
         "
          Choose an option  
         --create :  Craete Containers

         --drop :    Drop containers

         --infos :   Infos containers caracteristic (IP, Name, User ..)

         --start :   Starting containers

         --ansible : Deploying ansible
        "

        fi